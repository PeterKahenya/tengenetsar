{% extends '../base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/calling_page.css' %}">
<div id="start_call_page">
    <div class="d-flex align-items-center flex-column">
        <span class="material-icons text-white" style="font-size:5rem" >
            account_circle
        </span>

        <div>
            <h5 class="text-white">{{expert.user.first_name}} {{expert.user.last_name}}</h5>
        </div>
        
    </div>
    <div id="logs" class="text-white display-1">

    </div>

    <button  id="start_call_button" class="material-icons btn btn-outline-success bg-success control-buttons">
        call
    </button>
</div>
<div id="live_calling_page">
	<aside class="mdc-drawer mdc-drawer--modal">
		<div class="mdc-drawer__content">
		  <nav class="mdc-list">
			<a class="mdc-list-item mdc-list-item--activated" href="#" aria-current="page" tabindex="0">
			  <i class="material-icons mdc-list-item__graphic" aria-hidden="true">inbox</i>
			  <span class="mdc-list-item__text">Inbox</span>
			</a>
			<a class="mdc-list-item" href="#">
			  <i class="material-icons mdc-list-item__graphic" aria-hidden="true">send</i>
			  <span class="mdc-list-item__text">Outgoing</span>
			</a>
			<a class="mdc-list-item" href="#">
			  <i class="material-icons mdc-list-item__graphic" aria-hidden="true">drafts</i>
			  <span class="mdc-list-item__text">Drafts</span>
			</a>
		  </nav>
		</div>
	  </aside>
	
	  <!-- <div class="mdc-drawer-scrim"></div>
	  <div class="mdc-drawer-app-content bg-light" style="display: flex !important; flex-direction: column !important;">
		<div class="row main_container">
			<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 shadow videos_holder">
				<video autoplay playsinline id="other_video" width="100%"></video>
				
				<input type="hidden" id="caller_id" value="{{caller.id}}"/>
				<input type="hidden" id="expert_id" value="{{expert.id}}"/>
			   
				<div class="live-controls">
					
					<button id="mic_off_btn" class="material-icons btn btn-outline-light control-buttons">
					  mic
				  </button>
				  <button id="videocam_off_btn" class="material-icons btn btn-outline-light control-buttons">
					  videocam
				  </button>
				  <button id="hangout_btn" class="material-icons btn btn-outline-light control-buttons">
					  call
				  </button>
				  <button id="flip_camera_btn" class="material-icons btn btn-outline-light control-buttons">
					  flip_camera_android
				  </button>
					<video autoplay playsinline id="my_video"></video>
	  
				</div>
		  </div>
		  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 chats">
			  <div id="chat_logs">
				  
			  </div>
			  <div class="chatbox">
				  <input id="my_chat_text_area" placeholder="Enter message..." />
				  <button class="btn btn-primary material-icons" id="send_chat_btn">
					  send
				  </button>
			  </div>
		  </div>
		</div>
	</div> -->

</div>
<script src="{% static 'js/peerjs.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/calling_page.js' %}" type="text/javascript"></script>
<script>
    const drawer = mdc.drawer.MDCDrawer.attachTo(document.querySelector('.mdc-drawer'));
	drawer.open=true
</script>
{% endblock content %}
